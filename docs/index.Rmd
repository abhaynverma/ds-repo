---
title: "Untitled"
author: "Julie"
date: "11/30/2017"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## `ggplot` stuff

(I actually didn't do this, but follow along in Ben's repo: <https://bbest.github.io/ds-repo/>)


## Data Wrangling with `dplyr`

```{r}

library(tidyverse)

gapminder <- readr::read_csv("https://raw.githubusercontent.com/OHI-Science/data-science-training/master/data/gapminder.csv")

gapminder

## useful functions to get to know your data:
head(gapminder) # show the first 6 rows of the data
tail(gapminder) # show the last 6 rows of data

head(gapminder, 10) # say how many!
tail(gapminder, 9)

## check out the structure of your data
str(gapminder)

## column names 
names(gapminder)

## dimensions of the data
dim(gapminder)
ncol(gapminder)
nrow(gapminder)

## combine with c()
c(nrow(gapminder), ncol(gapminder))

## summary statistics
summary(gapminder)

## for everything above, we were operating on the whole gapminder dataset.

head(gapminder$lifeExp)

```

`read_csv` is from the `readr` package (part of the tidyverse). It is not `read.csv`, which is part of base R. 

## Actually working with dplyr

filter
```{r}

filter(gapminder, lifeExp < 29)

filter(gapminder, country == "Mexico")

sweden <- filter(gapminder, country == "Sweden")
mean(sweden$lifeExp)

mean(filter(gapminder, country == "Sweden")$lifeExp)

## pipe operator `%>%` 

## same output!
gapminder %>% head(3)
head(gapminder, 3)

## let's use the %>% with our Sweden example
sweden <- filter(gapminder, country == "Sweden")
x <- mean(sweden$lifeExp)

## getting ahead of ourselves
y <- gapminder %>% 
  filter(country == "Sweden") %>% 
  summarize(mean_lifeExp = mean(lifeExp))

```




